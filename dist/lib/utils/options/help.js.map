{"version":3,"file":"help.js","sourceRoot":"","sources":["../../../../src/lib/utils/options/help.ts"],"names":[],"mappings":"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","sourcesContent":["import * as ts from 'typescript';\r\nimport * as _ts from '../../ts-internal';\r\n\r\nimport { Options } from './options';\r\nimport { ParameterScope, ParameterHint } from './declaration';\r\n\r\nexport interface ParameterHelp {\r\n    names: string[];\r\n    helps: string[];\r\n    margin: number;\r\n}\r\n\r\n/**\r\n * Prepare parameter information for the [[toString]] method.\r\n *\r\n * @param scope  The scope of the parameters whose help should be returned.\r\n * @returns The columns and lines for the help of the requested parameters.\r\n */\r\nfunction getParameterHelp(options: Options, scope: ParameterScope): ParameterHelp {\r\n    const parameters = options.getDeclarationsByScope(scope);\r\n    parameters.sort((a, b) => {\r\n        return _ts.compareValues<string>(a.name.toLowerCase(), b.name.toLowerCase());\r\n    });\r\n\r\n    const names: string[] = [];\r\n    const helps: string[] = [];\r\n    let margin = 0;\r\n\r\n    for (let i = 0; i < parameters.length; i++) {\r\n        const parameter = parameters[i];\r\n        if (!parameter.help) {\r\n            continue;\r\n        }\r\n\r\n        let name = ' ';\r\n        if (parameter.short) {\r\n            name += '-' + parameter.short;\r\n            if (typeof parameter.hint !== 'undefined') {\r\n                name += ' ' + ParameterHint[parameter.hint].toUpperCase();\r\n            }\r\n            name += ', ';\r\n        }\r\n\r\n        name += '--' + parameter.name;\r\n        if (parameter.hint) {\r\n            name += ' ' + ParameterHint[parameter.hint].toUpperCase();\r\n        }\r\n\r\n        names.push(name);\r\n        helps.push(parameter.help);\r\n        margin = Math.max(name.length, margin);\r\n    }\r\n\r\n    return {names: names, helps: helps, margin: margin};\r\n}\r\n\r\n/**\r\n * Print some usage information.\r\n *\r\n * Taken from TypeScript (src/compiler/tsc.ts)\r\n */\r\nexport function getOptionsHelp(options: Options): string {\r\n    const typeDoc = getParameterHelp(options, ParameterScope.TypeDoc);\r\n\r\n    const output: string[] = [];\r\n    output.push('Usage:');\r\n    output.push(' typedoc --mode modules --out path/to/documentation path/to/sourcefiles');\r\n\r\n    output.push('', 'TypeDoc options:');\r\n    pushHelp(typeDoc);\r\n\r\n    output.push('', 'TypeScript options:');\r\n    output.push('See https://www.typescriptlang.org/docs/handbook/compiler-options.html');\r\n\r\n    output.push('');\r\n    return output.join(ts.sys.newLine);\r\n\r\n    function pushHelp(columns: ParameterHelp) {\r\n        for (let i = 0; i < columns.names.length; i++) {\r\n            const usage = columns.names[i];\r\n            const description = columns.helps[i];\r\n            output.push(usage + padding(typeDoc.margin - usage.length + 2) + description);\r\n        }\r\n    }\r\n\r\n    function padding(length: number): string {\r\n        return Array(length + 1).join(' ');\r\n    }\r\n}\r\n"]}